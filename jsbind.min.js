var l="function"==typeof Object.defineProperties?Object.defineProperty:function(b,f,h){if(h.get||h.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[f]=h.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function r(){r=function(){};n.Symbol||(n.Symbol=t)}var u=0;function t(b){return"jscomp_symbol_"+(b||"")+u++}
function v(){r();var b=n.Symbol.iterator;b||(b=n.Symbol.iterator=n.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&l(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return y(this)}});v=function(){}}function y(b){var f=0;return z(function(){return f<b.length?{done:!1,value:b[f++]}:{done:!0}})}function z(b){v();b={next:b};b[n.Symbol.iterator]=function(){return this};return b}function A(b){v();var f=b[Symbol.iterator];return f?f.call(b):y(b)}
function B(b){if(!(b instanceof Array)){b=A(b);for(var f,h=[];!(f=b.next()).done;)h.push(f.value);b=h}return b}
(function(b){function f(){this.root=new h;this.a={"":this.root};this.c={};this.b=!1}function h(){this.g=[];this.children={}}function C(a){this.value=a}function D(a){this.textContent=a}function E(a,g,e){function c(c,d,w){var k=b.get(d);if(!k){var p=new f,m=a.content.cloneNode(!0);x(m,p,e);k={f:p,m:m,j:[].concat(B(m.childNodes))};b.set(d,k);g.parentNode.insertBefore(m,g);e.add(p)}k.f.update("$"+(void 0!==w?"."+w:""),c)}function d(a){var c=b.get(a);c&&(b.delete(a),e.delete(c.f),c.f.update("$",null),
c.j.forEach(function(a){return a.remove()}))}var b=new Map;a.getAttribute("each");return function(a,g,e){if(void 0===g){if(void 0!==e)throw new TypeError("can't pass rest with each replace");g=A(b.keys());for(e=g.next();!e.done;e=g.next())d(e.value);if(b.size)throw Error("curr should now be empty");F(a,function(a,d){return c(a,d,void 0)})}else null===a&&void 0===e?d(g):c(a,g,e)}}function G(a){for(var g={},e=0,c;c=a.attributes[e];++e)"$"===c.name.substring(c.name.length-1)&&(g[c.name.substr(0,c.name.length-
1)]=c.value);for(var d in g)a.removeAttribute(d+"$"),a.setAttribute(d,"");return g}function H(a){if(a instanceof HTMLTemplateElement)return document.importNode(a.content,!0)||document.createDocumentFragment();if(a instanceof HTMLElement)return document.cloneNode(!0);a=a.valueOf();if("string"!==typeof a)throw new TypeError("expected HTMLTemplateElement, HTMLElement or string");var g=document.createDocumentFragment(),e=document.createElement("div");for(e.innerHTML=a;e.childNodes.length;)g.appendChild(e.childNodes[0]);
return g}function I(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function J(a,g){function e(a){++d;a=document.createTextNode(a);c.appendChild(a);return a}for(var c=document.createDocumentFragment(),d=-1,b=-1,f;null!==(f=q.exec(a));){f.index>b&&(e(a.substring(b,f.index)),b=q.lastIndex);var k=e("");c.appendChild(k);g(f[1],k,d)}q.lastIndex=NaN;a=a.substring(b);a.length&&e(a);return c}function F(a,b){if(a)if("function"===typeof a.forEach)a.forEach(b);else for(var e in a)b(a[e],e)}
function x(a,b,e){a=[a];for(var c;c=a.shift();)if(c instanceof HTMLTemplateElement){var d=c.getAttribute("each");if(void 0===d)throw Error("expected template each");var g=document.createComment(" "+d+" ");c.parentNode.replaceChild(g,c);b.h(d,E(c,g,e))}else if(a.push.apply(a,[].concat(B(c.childNodes))),c instanceof Text)d=J(c.wholeText,function(a,c){b.add(a,D.bind(c))}),c.parentNode.replaceChild(d,c);else if(c instanceof Element){var d=G(c),f;for(f in d)b.add(d[f],C.bind(c.attributes[f]))}}h.prototype.i=
function(a){var b=this.children[a];return b?b:this.children[a]=new h};h.prototype.l=function(a){this.g.forEach(function(b){return b(a)})};f.prototype.add=function(a,b){a=a.split(".");var e=[],c=this.root;if(""===a[0])a.shift();else if("$"===a[0][0]){var d=a.shift(),c=this.a[d];void 0===c&&(this.a[d]=c=new h);e.push(d)}for(;a.length;){d=a.shift();c=c.i(d);e.push(d);var d=e.join("."),g=this.a[d];if(void 0!==g&&g!==c)throw Error("unexpected node in flat map: '"+d+"'");this.a[d]=c}c.g.push(b)};f.prototype.h=
function(a,b){this.add(a,b);a in this.c||(this.c[a]=[]);this.c[a].push(b);this.b=null};f.prototype.update=function(a,b){var e=this.a[a];if(e)for(a=[{node:e,value:b}];a.length;){var c=a.shift(),e=c.node,c=c.value;e.l(c);for(var d in e.children)a.push({node:e.children[d],value:null==c?void 0:c[d]})}else{if(null===this.b)d="^("+Object.keys(this.c).map(I).join("|")+")\\.(\\w+)(?:\\.(.*)|)$",this.b=new RegExp(d);else if(!this.b)return;if(d=this.b.exec(a)){a=d[1];var g=d[2],f=d[3];this.c[a].forEach(function(a){return a(b,
g,f)})}}};var q=new RegExp(/{{(.*?)}}/g);b.JSBind=function(a,b){function e(a,b){c.forEach(function(c){return c.update(a,b)})}a=H(a);var c=new Set,d=new f;x(a,d,c);c.add(d);e("",b);return{root:a,update:e}}})(window);
