var m="function"==typeof Object.defineProperties?Object.defineProperty:function(b,g,h){if(h.get||h.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[g]=h.value)},p="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function r(){r=function(){};p.Symbol||(p.Symbol=t)}var u=0;function t(b){return"jscomp_symbol_"+(b||"")+u++}
function v(){r();var b=p.Symbol.iterator;b||(b=p.Symbol.iterator=p.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&m(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return x(this)}});v=function(){}}function x(b){var g=0;return y(function(){return g<b.length?{done:!1,value:b[g++]}:{done:!0}})}function y(b){v();b={next:b};b[p.Symbol.iterator]=function(){return this};return b}function z(b){v();var g=b[Symbol.iterator];return g?g.call(b):x(b)}
function A(b){if(!(b instanceof Array)){b=z(b);for(var g,h=[];!(g=b.next()).done;)h.push(g.value);b=h}return b}
(function(b){function g(){this.root=new h;this.c={"":this.root};this.b={};this.a=!1}function h(){this.g=[];this.children={}}function B(a){this.value=a}function C(a){this.textContent=a}function D(a,b,e){function c(c,d){var k=f.get(d);if(!k){var q=new g,n=a.content.cloneNode(!0);w(n,q,e);k={f:q,l:n,j:[].concat(A(n.childNodes))};f.set(d,k);b.parentNode.insertBefore(n,b);e.set(n,q)}k.f.update("$",c)}function d(a){var c=f.get(a);c&&(f.delete(a),e.delete(c.l),c.f.update("$",null),c.j.forEach(function(a){return a.remove()}))}
var f=new Map;a.getAttribute("each");return function(a,b){if(void 0===b){b=z(f.keys());for(var k=b.next();!k.done;k=b.next())d(k.value);if(f.size)throw Error("curr should now be empty");if(a)if("function"===typeof a.forEach)a.forEach(c);else for(var e in a)c(a[e],e)}else null==a?d(b):c(a,b)}}function E(a){if(a instanceof HTMLTemplateElement)return document.importNode(a.content,!0)||document.createDocumentFragment();if(a instanceof HTMLElement)return document.cloneNode(!0);a=a.valueOf();if("string"!==
typeof a)throw new TypeError("expected HTMLTemplateElement, HTMLElement or string");var b=document.createDocumentFragment(),e=document.createElement("div");for(e.innerHTML=a;e.childNodes.length;)b.appendChild(e.childNodes[0]);return b}function F(a,b){function e(a){a=document.createTextNode(a);c.appendChild(a);return a}for(var c=document.createDocumentFragment(),d=-1,f;null!==(f=l.exec(a));){f.index>d&&(e(a.substring(d,f.index)),d=l.lastIndex);var k=e("");c.appendChild(k);b.add(f[1],C.bind(k))}l.lastIndex=
NaN;if(!d)return null;a=a.substring(d);a.length&&e(a);return c}function w(a,b,e){a=[a];for(var c;c=a.shift();)if(c instanceof HTMLTemplateElement){var d=c.getAttribute("each");if(void 0===d)throw Error("expected template each");var f=document.createComment(" "+d+" ");c.parentNode.replaceChild(f,c);b.h(d,D(c,f,e))}else if(a.push.apply(a,[].concat(A(c.childNodes))),c instanceof Text)(d=F(c.wholeText,b))&&c.parentNode.replaceChild(d,c);else if(c instanceof Element){for(var d=void 0,k=c,g={},h=0;f=k.attributes[h];++h)"$"===
f.name.substring(f.name.length-1)&&(g[f.name.substr(0,f.name.length-1)]=f.value);for(d in g)k.removeAttribute(d+"$"),k.setAttribute(d,"");var d=g,l;for(l in d)b.add(d[l],B.bind(c.attributes[l]))}}h.prototype.i=function(a){var b=this.children[a];return b?b:this.children[a]=new h};h.prototype.m=function(a){this.g.forEach(function(b){return b(a)})};g.prototype.add=function(a,b){a=a.split(".");var e=[];""===a[0]&&a.shift();for(var c=this.root;a.length;){var d=a.shift();e.push(d);var f=e.join("."),c=d.startsWith("$")?
this.c[f]||new h:c.i(d),d=this.c[f];if(void 0!==d&&d!==c)throw Error("unexpected node in flat map: `"+f+"`");this.c[f]=c}c.g.push(b)};g.prototype.h=function(a,b){this.add(a,b);a in this.b||(this.b[a]=[]);this.b[a].push(b);this.a=null};g.prototype.update=function(a,b){var e=this.c[a];if(e)for(a=[{node:e,value:b}];a.length;){var c=a.shift(),e=c.node,c=c.value;e.m(c);for(var d in e.children)a.push({node:e.children[d],value:null===c||void 0===c?void 0:c[d]})}else{if(null===this.a)d="^("+Object.keys(this.b).map(function(a){return a.replace(".",
"\\.")}).join("|")+")\\.(\\w+)(?:\\.(.*)|)$",this.a=new RegExp(d);else if(!this.a)return;if(d=this.a.exec(a)){a=d[1];var f=d[2];this.b[a].forEach(function(a){return a(b,f)})}}};var l=new RegExp(/{{(.*?)}}/g);b.JSBind=function(a,b){function e(a,b){c.forEach(function(c){return c.update(a,b)})}a=E(a);var c=new Map,d=new g;w(a,d,c);c.set(a,d);e("",b);return{root:a,update:e}}})(window);
